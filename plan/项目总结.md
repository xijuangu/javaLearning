**Q: 项目经历，具体做了什么**  
A: 项目背景是某部门如果要举办什么面向消费者的活动，就首先会由该部门的某员工发起活动开展的申请，然后该部门内要审核这个活动是否有益或合理，然后转交给消保部门的主管，主管大致看过觉得问题不大就会分配给消保审查员来进行详细且可能多次的审核与退回。为了实现这些逻辑和功能，我负责的是该模块所有的后端代码并设计了数据库。
**多部门协作多流程审批的一个系统，负责的是所有的后端代码和数据库**

**Q: 遇到哪些问题，怎么解决的**

1. 处理多人协作审批时遇到了一个问题，就是我当时想用一个字段存储json格式的多个审核员的数据，但是后面发现这样就很麻烦，读写删改都很麻烦，不符合三范式，还不能在审核员上建立索引，因为太大了，索引就会变得很大，维护成本也更高
2. 使用了存储过程，但是发现难以维护的问题，所以选择弃用
3. 遇到了査询慢的问题，打开slow_query_log开关找到了是哪个语句查询时间过长，然后用EXPLAIN检查这个语句，发现索引失效了，当时在where中用了一个不等号导致失效，然后应该用not in代替
4. 当时解决垂直越权的方法是设置了一个权限表，并对每一个角色定制接口，(每个角色只能访问自己角色的接口)。
5. 然后当时设计的还有一个问题是，在请求中手动输入用户id作为参数来查询，就很容易导致水平越权，后面修改为，在首次登陆的时候把用户信息放在服务器端，就是session一样，前端在cookie里发送session id，然后后端直接发送用户信息。(每个用户只能访问自己的数据)。
6. 其实这么设计也不是很好，因为session很吃内存，但是起码能解决一些问题。所以后面我在我的毕业设计中就使用了spring security。目前只做了最基本的认证，就是配置好了从数据库中获取用户名和密码，还有自定义的 PasswordEncoder，但是对它的认证授权的原理已经基本了解了

比较擅长的就是 Java 特性基本功，JVM，多线程线程池，MySQL 复杂查询，spring security原理

首先 spring security 是基于 filter 的一个安全框架，filter 就是过滤器，它会拦截所有进入后端的请求，然后校验它能不能访问它想要访问的资源。这里的流程就是，首先有多个 filter，形成一个 filterChain，它们会有排序，每个请求进来都会依次通过一个 filter，调用这个 filterChain 的 doFilter 方法进入下一个 filter，直到最后一个 filter 就会放行，允许访问。
Spring Security 中（的 filter 是委托给各类 Manager 来实现的，认证流程）就是在 filter 里先根据用户名获取用户信息，然后用 passwordEncoder 的 encode 方法把用户输入的明文密码加密，再和获取到的那个用户信息里的密码作比较，比较通过了 filter 就放行
（以认证流程为例，就是UsernamePasswordAuthenticationFilter调用AuthenticationManager，然后Manager再调用一个AuthenticationProvider，Provider再调用一个UserDetailsService来获取用户信息，然后再调用PasswordEncoder来处理加密用户输入的明文密码，和刚刚获取的用户信息中的密码作对比，如果一样就认证成功返回前面的那个Filter，最后Filter再把认证信息保存到安全上下文）

授权简单来说就是把用户信息、要访问的资源与权限，一起丢给 AccessDecisionManager，然后它调用投票器去投票，然后有几种那个 Manager，主要区别就是 decide 方法的不同，一个是一票否决，一个是一票通过，一个是少数服从多数

**以下可以不说，上面都涉及到了**

**Q: 如果遇到査询慢，如何排查和解决-联动数据库索引类问题**

1. 首先在开发环境时可以打开slow_query_log开关，记录慢查询日志，然后通过分析日志找出慢查询语句，再根据语句优化。  
2. 创建索引
3. 使用EXPLAIN分析SQL语句，查看执行计划，看是否使用了索引。

**Q: 高并发场景该怎么保证后端接口响应 -- 联动java里线程池类问题**
A: 合理配置和使用 Java 线程池，可以有效管理系统资源，确保后端接口的快速响应，配合限流、熔断、缓存等机制能够大幅提高系统的稳定性和性能。

- 项目背景 就是为什么要做这个需求 是为了解决什么问题
- 项目的内容是什么 你在项目里做了什么
- 有遇到什么问题？最好举个跟技术相关的例子，描述下是怎么解决的
- 申请单主表数据量多大？如果遇到査询慢，如何排查和解决-联动数据库索引类问题
- 有没有高并发场景，如果有，该怎么保证后端接口响应 -- 联动java里线程池类问题

后端技术问题 可以参考之前发你的excel里的要学习的知识点学习， 另外网上可以搜下常见以下类别的面试题 对照着复习

1. 数据库类  
    - 数据库选型是什么，引擎是什么  
    - 索引是什么？B+树和B树的区别？  
    - 索引在什么情况下会失效，举个例子  
2. 框架类:
    - spring的核心IOP，依赖注入、AOP
    - springboot是什么
    - springmvc 接口参数绑定的形式
    - mybatis 一二级缓存 增删改查怎么实现
3. java类
    - 如何实例化
    - 静态类的加载，jvm类加载原理
    - 多态是什么
4. 接口开发完成 如何自测？测试有什么注意事项？:临界值、正反例
